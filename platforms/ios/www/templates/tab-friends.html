<ion-view title="Caveau">
    <ion-content>
        <div class="list">
            <label class="item item-input item-stacked-label">
                <span class="input-label">Account name</span>
                <input type="text" ng-model="data.name" placeholder="e.g. personal account">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label" ng-class="{'assertive': data.IBAN.length > 0 && (!IBANIsValid(data.IBAN) || IBANAlreadyExists(data.IBAN))}">
                    IBAN
                    <span ng-show="data.IBAN.length > 0 && !IBANIsValid(data.IBAN)">(not a valid IBAN)</span>
                    <span ng-show="data.IBAN.length > 0 && IBANIsValid(data.IBAN) && IBANAlreadyExists(data.IBAN)">(duplicated IBAN)</span>
                </span>
                <input type="text" ng-model="data.IBAN" placeholder="e.g. IT60X0542811101000000123456">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">BIC/SWIFT (optional)</span>
                <input type="text" ng-model="data.bic" placeholder="e.g. DABAIE2D">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Account holder (optional)</span>
                <input type="text" ng-model="data.holder" placeholder="e.g. John Doe">
            </label>
            <div class="padding" ng-show="(IBANIsValid(data.IBAN) && !IBANAlreadyExists(data.IBAN)) && data.name">
                <button ng-click="addIBAN()" class="button button-block button-positive">
                    Add IBAN to the Caveau
                </button>
            </div>
        </div>
    </ion-content>
</ion-view>
